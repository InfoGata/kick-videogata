const o=async s=>{const i=`https://kick.com/api/search?searched_word=${s.query}`;return{items:(await(await application.networkRequest(i)).json()).channels.map(t=>({name:t.user.username,apiId:t.slug,images:[{url:t.user.profilePic}],isLive:t.isLive}))}},r=async s=>{const n=`https://kick.com/api/v1/channels/${s.apiId}`,e=await(await application.networkRequest(n)).json();return{items:e.previous_livestreams.map(a=>({apiId:a.video.uuid,title:a.session_title,duration:a.duration/1e3,images:[{url:a.thumbnail.src}],views:a.views,channelName:e.user.username,channelApiId:e.slug,uploadDate:a.created_at})),channel:{name:e.user.username,images:[{url:e.user.profile_pic}],apiId:e.slug},isLive:e.livestream?.is_live}},l=async s=>{const n=`https://kick.com/api/v1/video/${s.apiId}`,e=await(await application.networkRequest(n)).json();return{title:e.livestream.session_title,sources:[{source:e.source,type:"application/x-mpegURL"}],channelName:e.livestream.channel.user.username,channelApiId:e.livestream.channel.slug}},p=async s=>{const n=`https://kick.com/api/v1/channels/${s.channelApiId}`,e=await(await application.networkRequest(n)).json();return{channelName:e.user.username,channelApiId:e.slug,title:e.livestream?.session_title||"",sources:[{source:e.playback_url,type:"application/x-mpegURL"}]}},u=async s=>{const n=o(s),[i]=await Promise.all([n]);return{channels:i}};application.onSearchAll=u;application.onSearchChannels=o;application.onGetChannelVideos=r;application.onGetVideo=l;application.onGetLiveVideo=p;
