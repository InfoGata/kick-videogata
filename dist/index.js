(()=>{let e=async e=>{let a=`https://kick.com/api/search?searched_word=${e.query}`,i=await application.networkRequest(a);return{items:(await i.json()).channels.map(e=>({name:e.user.username,apiId:e.slug,images:[{url:e.user.profilePic}],isLive:e.isLive}))}},a=async e=>{let a=`https://kick.com/api/v1/channels/${e.apiId}`,i=await application.networkRequest(a),n=await i.json();return{items:n.previous_livestreams.map(e=>({apiId:e.video.uuid,title:e.session_title,duration:e.duration/1e3,images:[{url:e.thumbnail.src}],views:e.views,channelName:n.user.username,channelApiId:n.slug,uploadDate:e.created_at})),channel:{name:n.user.username,images:[{url:n.user.profile_pic}],apiId:n.slug},isLive:n.livestream?.is_live}},i=async e=>{let a=`https://kick.com/api/v1/video/${e.apiId}`,i=await application.networkRequest(a),n=await i.json();return{title:n.livestream.session_title,sources:[{source:n.source,type:"application/x-mpegURL"}],channelName:n.livestream.channel.user.username,channelApiId:n.livestream.channel.slug}},n=async e=>{let a=`https://kick.com/api/v1/channels/${e.channelApiId}`,i=await application.networkRequest(a),n=await i.json();return{channelName:n.user.username,channelApiId:n.slug,title:n.livestream?.session_title||"",sources:[{source:n.playback_url,type:"application/x-mpegURL"}]}},t=async e=>{let a=await application.networkRequest("https://kick.com/api/v2/channels/followed?cursor=0");return console.log(a),console.log(await a.json()),{items:[]}},s=async a=>{let i=e(a),[n]=await Promise.all([i]);return{channels:n}};application.onSearchAll=s,application.onSearchChannels=e,application.onGetChannelVideos=a,application.onGetVideo=i,application.onGetLiveVideo=n;let l=async()=>{let e=await application.isLoggedIn();console.log(e),e&&(application.onGetUserChannels=t)};application.onPostLogin=l,l()})();